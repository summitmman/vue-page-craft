function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/WidgetsRenderer-CvQp1hP1.js","assets/index-C0OJXrI_.js","assets/index-C8V-3xEC.css","assets/DynamicString-2RIeVest.js","assets/VIf-CJL481Xd.js","assets/VFor-zvQUofqR.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{d as D,i as V,_ as C,k as ee,b as te,o as d,a as M,aV as re,aW as B,w as A,F as ne,f as ae,G as oe,aX as se,aj as ie,c as g,aU as F,Z as x,a1 as J,L as k,r as pe}from"./index-C0OJXrI_.js";var O=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ce(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var le="Expected a function",K="__lodash_hash_undefined__",U=1/0,ue="[object Function]",fe="[object GeneratorFunction]",de="[object Symbol]",he=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ve=/^\w*$/,_e=/^\./,ye=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,be=/[\\^$.*+?()[\]{}|]/g,ge=/\\(\\)?/g,Me=/^\[object .+?Constructor\]$/,me=typeof O=="object"&&O&&O.Object===Object&&O,Oe=typeof self=="object"&&self&&self.Object===Object&&self,R=me||Oe||Function("return this")();function Ve(e,t){return e==null?void 0:e[t]}function Ce(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}var je=Array.prototype,Se=Function.prototype,q=Object.prototype,E=R["__core-js_shared__"],H=function(){var e=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),z=Se.toString,T=q.hasOwnProperty,N=q.toString,Ee=RegExp("^"+z.call(T).replace(be,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),L=R.Symbol,Pe=je.splice,De=X(R,"Map"),m=X(Object,"create"),G=L?L.prototype:void 0,W=G?G.toString:void 0;function h(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}function Re(){this.__data__=m?m(null):{}}function Te(e){return this.has(e)&&delete this.__data__[e]}function we(e){var t=this.__data__;if(m){var r=t[e];return r===K?void 0:r}return T.call(t,e)?t[e]:void 0}function Ie(e){var t=this.__data__;return m?t[e]!==void 0:T.call(t,e)}function $e(e,t){var r=this.__data__;return r[e]=m&&t===void 0?K:t,this}h.prototype.clear=Re;h.prototype.delete=Te;h.prototype.get=we;h.prototype.has=Ie;h.prototype.set=$e;function y(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}function Ae(){this.__data__=[]}function Fe(e){var t=this.__data__,r=j(t,e);if(r<0)return!1;var a=t.length-1;return r==a?t.pop():Pe.call(t,r,1),!0}function xe(e){var t=this.__data__,r=j(t,e);return r<0?void 0:t[r][1]}function He(e){return j(this.__data__,e)>-1}function Le(e,t){var r=this.__data__,a=j(r,e);return a<0?r.push([e,t]):r[a][1]=t,this}y.prototype.clear=Ae;y.prototype.delete=Fe;y.prototype.get=xe;y.prototype.has=He;y.prototype.set=Le;function v(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}function Ge(){this.__data__={hash:new h,map:new(De||y),string:new h}}function We(e){return S(this,e).delete(e)}function Be(e){return S(this,e).get(e)}function Je(e){return S(this,e).has(e)}function ke(e,t){return S(this,e).set(e,t),this}v.prototype.clear=Ge;v.prototype.delete=We;v.prototype.get=Be;v.prototype.has=Je;v.prototype.set=ke;function j(e,t){for(var r=e.length;r--;)if(tt(e[r][0],t))return r;return-1}function Ke(e,t){t=Ne(t,e)?[t]:ze(t);for(var r=0,a=t.length;e!=null&&r<a;)e=e[Qe(t[r++])];return r&&r==a?e:void 0}function Ue(e){if(!Z(e)||Ye(e))return!1;var t=rt(e)||Ce(e)?Ee:Me;return t.test(et(e))}function qe(e){if(typeof e=="string")return e;if(I(e))return W?W.call(e):"";var t=e+"";return t=="0"&&1/e==-U?"-0":t}function ze(e){return Y(e)?e:Ze(e)}function S(e,t){var r=e.__data__;return Xe(t)?r[typeof t=="string"?"string":"hash"]:r.map}function X(e,t){var r=Ve(e,t);return Ue(r)?r:void 0}function Ne(e,t){if(Y(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||I(e)?!0:ve.test(e)||!he.test(e)||t!=null&&e in Object(t)}function Xe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Ye(e){return!!H&&H in e}var Ze=w(function(e){e=at(e);var t=[];return _e.test(e)&&t.push(""),e.replace(ye,function(r,a,o,i){t.push(o?i.replace(ge,"$1"):a||r)}),t});function Qe(e){if(typeof e=="string"||I(e))return e;var t=e+"";return t=="0"&&1/e==-U?"-0":t}function et(e){if(e!=null){try{return z.call(e)}catch{}try{return e+""}catch{}}return""}function w(e,t){if(typeof e!="function"||t&&typeof t!="function")throw new TypeError(le);var r=function(){var a=arguments,o=t?t.apply(this,a):a[0],i=r.cache;if(i.has(o))return i.get(o);var c=e.apply(this,a);return r.cache=i.set(o,c),c};return r.cache=new(w.Cache||v),r}w.Cache=v;function tt(e,t){return e===t||e!==e&&t!==t}var Y=Array.isArray;function rt(e){var t=Z(e)?N.call(e):"";return t==ue||t==fe}function Z(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function nt(e){return!!e&&typeof e=="object"}function I(e){return typeof e=="symbol"||nt(e)&&N.call(e)==de}function at(e){return e==null?"":qe(e)}function ot(e,t,r){var a=e==null?void 0:Ke(e,t);return a===void 0?r:a}var st=ot;const P=ce(st),Q=new RegExp(/(\{\{)[^{}]+(\}\})/),it=D({props:{widget:{type:Object,default:()=>{}},widgetMap:{type:Object,default:()=>{}},eventMap:{type:Object,default:()=>{}},reactiveVariableMap:{type:Object,default:()=>{}}},components:{WidgetsRenderer:V(()=>C(()=>import("./WidgetsRenderer-CvQp1hP1.js"),__vite__mapDeps([0,1,2])))},setup(e){return{props:e,...e.widget.props,get propsBindings(){const t={};return Object.keys(this).forEach(r=>{r!=="propsBindings"&&r!=="props"&&(t[r]=this[r])}),t}}}});function pt(e,t,r,a,o,i){const c=te("WidgetsRenderer");return d(),M(ie(e.props.widgetMap[e.props.widget.type??""]??e.props.widget.type),oe(e.propsBindings,se(e.props.widget.events??{})),re({default:A(()=>[e.props.widget.children?(d(),M(c,{key:0,widgets:e.props.widget.children,widgetMap:e.props.widgetMap,eventMap:e.props.eventMap,reactiveVariableMap:e.props.reactiveVariableMap},null,8,["widgets","widgetMap","eventMap","reactiveVariableMap"])):ae("",!0)]),_:2},[B(Object.keys(e.props.widget.slots??{}),(n,p)=>({name:n,fn:A(s=>{var l;return[ne(c,{widgets:JSON.parse(JSON.stringify((e.props.widget.slots??{})[n])),widgetMap:e.props.widgetMap,eventMap:e.props.eventMap,reactiveVariableMap:{...e.props.reactiveVariableMap,[((l=e.props.widget.props)==null?void 0:l.id)??""+n+"SlotProps"]:s}},null,8,["widgets","widgetMap","eventMap","reactiveVariableMap"])]})}))]),1040)}const ct=ee(it,[["render",pt]]),lt=e=>{var c;const t=e.replace("{{","").replace("}}","").trim(),a=((c=new RegExp(/[\.\[\?]/).exec(t))==null?void 0:c.index)??-1;let o=t,i="";return a>-1&&(o=t.substring(0,a),i=t.substring(a+1)),{variablePart:o,theRest:i}},ut=(e,t,r={})=>{let a=e;const o=[];for(;a;){const i=Q.exec(a);if(i==null){o.push(a),a="";continue}const c=i[0],n=i.index,p=n+c.length;n>0&&o.push(a.substring(0,n));const{variablePart:s,theRest:l}=lt(c);t[s]!=null?o.push({rVar:t[s],theRest:l}):r[s]!=null?o.push(r[s]):o.push(c),p>=a.length?a="":a=a.substring(p)}return o},ft=D({__name:"WidgetsRenderer",props:{widgets:{type:Array,default:()=>[]},widgetMap:{type:Object,default:()=>{}},eventMap:{type:Object,default:()=>{}},reactiveVariableMap:{type:Object,default:()=>{}}},setup(e){const t=V(()=>C(()=>import("./DynamicString-2RIeVest.js"),__vite__mapDeps([3,1,2]))),r=V(()=>C(()=>import("./VIf-CJL481Xd.js"),__vite__mapDeps([4,1,2]))),a=V(()=>C(()=>import("./VFor-zvQUofqR.js"),__vite__mapDeps([5,1,2]))),o=e,i=g(()=>({...o.widgetMap,"v-if":r,"v-for":a})),c=g(()=>o.widgets.map(n=>(typeof n=="string"||(n.events&&Object.keys(n.events).forEach(p=>{if(!n.events)return;const s=n.events&&n.events[p];typeof s!="function"&&(s&&o.eventMap[s]?n.events[p]=o.eventMap[s]:n.events[p]=()=>{console.error(`Event ${s} not found`)})}),n.props&&Object.keys(n.props).forEach(p=>{if(n.props){if(n.props[p]){const s=n.props[p];if(typeof s=="string"&&Q.exec(s)){const b=ut(s,o.reactiveVariableMap);if(b.length===1){const u=b[0];if(typeof u!="string"&&typeof u!="function"){const{rVar:f,theRest:_}=u;_?k(f)?n.props[p]=P(f.value,_):n.props[p]=P(f,_):n.props[p]=f}else n.props[p]=u}else n.props[p]=g(()=>b.reduce((u,f)=>{if(typeof f=="function")return u;if(typeof f=="string")return u+f;const{rVar:_,theRest:$}=f;return $?u+=P(_.value,$):u+=_.value,u},""))}}if(p.includes("v-model")){const l=p.split(":")[1]??"modelValue";n.props[l]=n.props[p],n.events||(n.events={}),n.events[`update:${l}`]=b=>{n.props&&(n.props[p].value=b)}}}}),n.type==="v-if"&&(n.props||(n.props={}),n.props.widgetMap=i.value,n.props.eventMap=o.eventMap,n.props.reactiveVariableMap=o.reactiveVariableMap),n.type==="v-for"&&(n.props||(n.props={}),n.props.loopChildren=n.children,n.props.widgetMap=i.value,n.props.eventMap=o.eventMap,n.props.reactiveVariableMap=o.reactiveVariableMap)),n)));return(n,p)=>(d(!0),F(x,null,B(c.value,(s,l)=>(d(),F(x,{key:(typeof s=="string"?s:s.id+s.type)+l},[typeof s=="string"?(d(),M(J(t),{key:0,str:s,reactiveVariableMap:o.reactiveVariableMap},null,8,["str","reactiveVariableMap"])):(d(),M(ct,{key:1,widget:s,widgetMap:i.value,eventMap:o.eventMap,reactiveVariableMap:o.reactiveVariableMap},null,8,["widget","widgetMap","eventMap","reactiveVariableMap"]))],64))),128))}}),ht=D({__name:"PageCrafter",props:{page:{type:Object,required:!0},widgetMap:{type:Object,default:()=>{}},eventMap:{type:Function,default:()=>{}},reactiveVariableMap:{type:Object,default:()=>{}}},setup(e){const t=e,r=JSON.parse(JSON.stringify(t.page)),a=g(()=>r.initialData?(Object.keys(r.initialData).forEach(i=>{r.initialData&&(k(r.initialData[i])||(r.initialData[i]=pe(r.initialData[i])))}),{...r.initialData,...t.reactiveVariableMap}):t.reactiveVariableMap),o=g(()=>t.eventMap(a.value));return(i,c)=>(d(),M(ft,{widgets:J(r).children,widgetMap:t.widgetMap,eventMap:o.value,reactiveVariableMap:a.value},null,8,["widgets","widgetMap","eventMap","reactiveVariableMap"]))}});export{ht as _,P as a,ft as b,ut as s};
